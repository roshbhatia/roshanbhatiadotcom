#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run unit tests to validate blog post content hasn't been modified
npm run test:unit

# Check if any blog post content files are being modified
if git diff --cached --name-only | grep -q "writing/.*post.md"; then
  echo ""
  echo "⚠️  WARNING: You are committing changes to blog post content files!"
  echo "   Please verify that you intentionally want to modify the content."
  echo ""
  echo "   Files being modified:"
  git diff --cached --name-only | grep "writing/.*post.md"
  echo ""
fi
